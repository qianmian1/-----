"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js");Math;const t={globalData:{username:"",password:"",date:null,ServiceIp:"",Plugins:"",zhucheMa:"",code:!1,list:[],UID:"",asstoken:"",assxtoken:"",name:"",img:"",copy:!0},onLaunch:function(){console.log("App Launch"),e.index.getStorageSync("asstoken")?(e.index.showLoading({title:"登陆中",mask:!0}),e.Es.callFunction({name:"user",data:{api:"login_token",asstoken:e.index.getStorageSync("asstoken"),date:{api:!0}}}).then((t=>{-1==t.result?e.Es.callFunction({name:"user",data:{api:"login_token",assxtoken:e.index.getStorageSync("assxtoken"),date:{api:!1}}}).then((t=>{getApp().globalData.UID=t.result.user.UID,getApp().globalData.Plugins=t.result.user.token,getApp().globalData.ServiceIp=t.result.user.ip,getApp().globalData.zhucheMa=t.result.user.zhucema,getApp().globalData.asstoken=t.result.asstoken,getApp().globalData.assxtoken=t.result.assxtoken,getApp().globalData.name=t.result.user.name,getApp().globalData.img=t.result.user.img,e.index.hideLoading(),e.index.showToast({title:"登录成功",icon:"success"}),setTimeout((()=>{e.index.redirectTo({url:"/pages/index/index"})}),1600)})):-2==t.result?(e.index.showToast({title:"未登录",icon:"error",duration:1600}),setTimeout((()=>{e.index.redirectTo({url:"/pages/login/login"})}),1600)):(getApp().globalData.UID=t.result.user.UID,getApp().globalData.Plugins=t.result.user.token,getApp().globalData.ServiceIp=t.result.user.ip,getApp().globalData.zhucheMa=t.result.user.zhucema,getApp().globalData.asstoken=t.result.asstoken,getApp().globalData.assxtoken=t.result.assxtoken,getApp().globalData.name=t.result.user.name,getApp().globalData.img=t.result.user.img,e.index.hideLoading(),e.index.showToast({title:"登录成功",icon:"success"}),setTimeout((()=>{e.index.redirectTo({url:"/pages/index/index"})}),1600))}))):e.index.redirectTo({url:"/pages/login/login"})},onShow:function(){console.log("App Show")},onHide:function(){e.index.setStorageSync("asstoken",getApp().globalData.asstoken),e.index.setStorageSync("assxtoken",getApp().globalData.assxtoken)}};function a(){return{app:e.createSSRApp(t)}}a().app.mount("#app"),exports.createApp=a;
